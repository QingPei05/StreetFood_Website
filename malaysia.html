<!doctype html>
<html lang="en" data-bs-theme="light">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Explore Street Food â€” Malaysia</title>

  <!-- Bootstrap & Site CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <!-- Auth Gate (require sign in on this page) -->
  <script>
    (function gate() {
      const key = 'session_user_v1';
      if (!sessionStorage.getItem(key)) {
        sessionStorage.setItem(key, 'Guest');
      }
    })();
  </script>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">Explore Street Food</a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain"
        aria-controls="navMain" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">

          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link" href="malaysia.html">Malaysia</a></li>
          <li class="nav-item"><a class="nav-link" href="global.html">Global</a></li>
          <li class="nav-item"><a class="nav-link" href="favorites.html">Favorites</a></li>
          <li class="nav-item"><a class="nav-link" href="search.html">Search</a></li>
          <li class="nav-item"><a class="nav-link" href="reviews.html">Reviews</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
          <li class="nav-item"><a class="nav-link" href="quiz.html">Quiz</a></li>
          <li class="nav-item"><a class="nav-link" href="map.html">Map</a></li>

          <!-- Avatar dropdown -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle p-0" href="#" data-bs-toggle="dropdown" aria-expanded="false"
              id="navUser" title="Hi, Guest" aria-label="Hi, Guest">
              <img src="profile-user-svgrepo-com.svg" alt="User Avatar" class="rounded-circle"
                style="width:32px;height:32px;object-fit:cover;">
            </a>

            <ul class="dropdown-menu dropdown-menu-end">

              <!-- Centered user header (auto-hidden for Guest by main.js) -->
              <li class="dropdown-userinfo text-center py-2">
                <div id="ddFullName" class="fw-bold">Guest</div>
                <div id="ddUsername" class="text-muted">@guest</div>
              </li>
              <li>
                <hr class="dropdown-divider">
              </li>

              <!-- Theme toggle -->
              <li>
                <button class="dropdown-item d-flex align-items-center gap-2" id="themeToggleItem" type="button">
                  <span id="themeToggleIcon" aria-hidden="true">ðŸŒ™</span>
                  <span id="themeToggleText">Dark mode</span>
                </button>
              </li>

              <!-- Account settings (hidden for Guest by main.js) -->
              <li><a class="dropdown-item" id="navAccountSettings" href="account.html">Account settings</a></li>

              <li>
                <hr class="dropdown-divider">
              </li>

              <!-- Same slot for Sign in (Guest) / Sign out (Signed-in). Text is set by main.js -->
              <li><button class="dropdown-item text-danger" id="navSignout" type="button">Sign out</button></li>
            </ul>
          </li>

        </ul>
      </div>
    </div>
  </nav>

  <!-- Main -->
  <main class="container py-5">
    <h1 class="mb-4">Malaysia Street Food</h1>

    <!-- State filter -->
    <div class="row g-2 align-items-center mb-3">
      <div class="col-auto">
        <label for="stateFilter" class="col-form-label">Filter by state:</label>
      </div>
      <div class="col-auto">
        <select id="stateFilter" class="form-select form-select-sm">
          <option value="all">All</option>
          <option value="penang">Penang</option>
          <option value="malacca">Malacca</option>
          <option value="selangor">Selangor</option>
          <option value="johor">Johor</option>
          <option value="perlis">Perlis</option>
          <option value="kedah">Kedah</option>
          <option value="negeri-sembilan">Negeri Sembilan</option>
          <option value="kelantan">Kelantan</option>
          <option value="terengganu">Terengganu</option>
          <option value="perak">Perak</option>
          <option value="pahang">Pahang</option>
          <option value="sabah">Sabah</option>
          <option value="sarawak">Sarawak</option>
        </select>
      </div>
      <div class="col-auto">
        <button id="resetFilter" class="btn btn-sm btn-outline-secondary">Reset</button>
      </div>
    </div>

    <div class="row g-4">

      <!-- Penang -->
      <div class="col-md-4" id="char-kway-teow" data-region="penang">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/d/d7/Char_Kway_Teow%2C_Georgetown%2C_Penang%2C_Malaysia.JPG"
            alt="Char Kway Teow â€” Penang fried flat rice noodles with prawns and chives">
          <div class="card-body">
            <h5 class="card-title">Char Kway Teow</h5>
            <p class="card-text">Wok-fried flat rice noodles with prawns, eggs, and chives â€” smoky and savoury.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Char Kway Teow"
              aria-label="Add Char Kway Teow to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="asam-laksa" data-region="penang">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Penang_Laksa.jpg"
            alt="Asam Laksa â€” Penang tamarind fish broth with thick rice noodles">
          <div class="card-body">
            <h5 class="card-title">Asam Laksa</h5>
            <p class="card-text">Tangy tamarind fish broth, thick rice noodles, mint, pineapple, torch ginger.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Asam Laksa"
              aria-label="Add Asam Laksa to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="oyster-omelette" data-region="penang">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/%E8%9A%9D%E7%85%8E_Oyster_Omelette_-_Lucky_Yu_%283011561831%29.jpg/500px-%E8%9A%9D%E7%85%8E_Oyster_Omelette_-_Lucky_Yu_%283011561831%29.jpg"
            alt="Oyster omelette â€” crispy egg and starch batter with fresh oysters, coriander and chili sauce">
          <div class="card-body">
            <h5 class="card-title">Oyster Omelette</h5>
            <p class="card-text">Fresh oysters with eggs and a light starch batter, panâ€‘fried to crisp edges and a soft
              center.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Oyster Omelette"
              aria-label="Add Oyster Omelette to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Malacca -->
      <div class="col-md-4" id="nyonya-laksa" data-region="malacca">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Nyonya_Laksa_2.jpg/960px-Nyonya_Laksa_2.jpg?20210605150119"
            alt="Nyonya Laksa â€” Malacca coconut curry broth with prawns and fish cake">
          <div class="card-body">
            <h5 class="card-title">Nyonya Laksa</h5>
            <p class="card-text">Rich coconut curry noodle soup with prawns, fish cake, and fragrant herbs.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Nyonya Laksa"
              aria-label="Add Nyonya Laksa to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="cendol" data-region="malacca">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/a/a8/Cendol_Penang.JPG"
            alt="Cendol â€” shaved ice with coconut milk, gula melaka and green jelly">
          <div class="card-body">
            <h5 class="card-title">Cendol</h5>
            <p class="card-text">Shaved ice, coconut milk, gula melaka, and green jelly â€” iconic Malaccan dessert.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Cendol" aria-label="Add Cendol to favorites">Add
              to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="chicken-rice-balls" data-region="malacca">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Hainanesechickenrice.jpg/500px-Hainanesechickenrice.jpg"
            alt="Chicken rice balls â€” pingâ€‘pong sized rice balls with chicken and chili sauce">
          <div class="card-body">
            <h5 class="card-title">Chicken Rice Balls</h5>
            <p class="card-text">Soft pingâ€‘pong sized rice balls, served with steamed/roasted chicken and sweet chili
              sauce.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Chicken Rice Balls"
              aria-label="Add Chicken Rice Balls to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Selangor -->
      <div class="col-md-4" id="satay-kajang" data-region="selangor">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Sate_Ponorogo.jpg/500px-Sate_Ponorogo.jpg"
            alt="Satay Kajang â€” grilled skewers with peanut sauce">
          <div class="card-body">
            <h5 class="card-title">Satay Kajang</h5>
            <p class="card-text">Charâ€‘grilled skewers with smoky aroma, served with classic peanut sauce.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Satay Kajang"
              aria-label="Add Satay Kajang to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="yong-tau-foo" data-region="selangor">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Hakka_yong_tau_foo_with_noodles.jpg/500px-Hakka_yong_tau_foo_with_noodles.jpg"
            alt="Yong Tau Foo â€” tofu and vegetables stuffed with fish paste or minced meat">
          <div class="card-body">
            <h5 class="card-title">Yong Tau Foo</h5>
            <p class="card-text">Tofu and vegetables stuffed with fish paste or minced meat, served in soup or with
              sauce.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Yong Tau Foo"
              aria-label="Add Yong Tau Foo to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Johor -->
      <div class="col-md-4" id="mee-rebus" data-region="johor">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Mee_rebus_and_Bandung_drink.jpg/500px-Mee_rebus_and_Bandung_drink.jpg"
            alt="Mee Rebus â€” yellow noodles in thick sweetâ€‘savory gravy">
          <div class="card-body">
            <h5 class="card-title">Mee Rebus</h5>
            <p class="card-text">Yellow noodles in a thick gravy of sweet potato, spices, and aromatic herbs.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Mee Rebus"
              aria-label="Add Mee Rebus to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="otak-otak" data-region="johor">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Otak-otak_0002.jpg/500px-Otak-otak_0002.jpg"
            alt="Otakâ€‘otak â€” bananaâ€‘leaf wrapped spiced fish paste grilled over coals">
          <div class="card-body">
            <h5 class="card-title">Otakâ€‘otak</h5>
            <p class="card-text">Spiced fish paste wrapped in leaves and grilled over hot coals.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Otak-otak"
              aria-label="Add Otak-otak to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Perlis -->
      <div class="col-md-4" id="perlis-ikan-bakar" data-region="perlis">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Ikan_bakar.jpg"
            alt="Ikan Bakar â€” grilled fish with spicy sambal belacan">
          <div class="card-body">
            <h5 class="card-title">Ikan Bakar (Perlis)</h5>
            <p class="card-text">Fresh fish marinated in spices, grilled to perfection, served with tangy sambal
              belacan.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Ikan Bakar (Perlis)"
              aria-label="Add Ikan Bakar (Perlis) to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="pulut-mempelam" data-region="perlis">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Mango_sticy_rice_%283859549574%29.jpg/500px-Mango_sticy_rice_%283859549574%29.jpg"
            alt="Pulut Mempelam â€” glutinous rice with ripe mango and coconut milk">
          <div class="card-body">
            <h5 class="card-title">Pulut Mempelam</h5>
            <p class="card-text">Glutinous rice topped with sweet ripe mango, drizzled with creamy coconut milk.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Pulut Mempelam"
              aria-label="Add Pulut Mempelam to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Kedah -->
      <div class="col-md-4" id="nasi-ulam" data-region="kedah">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/4/48/Nasi_Ulam_Betawi.jpg"
            alt="Nasi Ulam â€” rice mixed with finely chopped herbs">
          <div class="card-body">
            <h5 class="card-title">Nasi Ulam (Kedah)</h5>
            <p class="card-text">Steamed rice tossed with chopped herbs, vegetables, and toasted coconut.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Nasi Ulam (Kedah)"
              aria-label="Add Nasi Ulam (Kedah) to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="pekasam" data-region="kedah">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Iwak_Pakasam_Basanga.JPG/500px-Iwak_Pakasam_Basanga.JPG"
            alt="Pekasam â€” fermented freshwater fish seasoned with rice and spices">
          <div class="card-body">
            <h5 class="card-title">Pekasam</h5>
            <p class="card-text">Fermented freshwater fish delicacy seasoned with salt, toasted rice, and spices.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Pekasam"
              aria-label="Add Pekasam to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Negeri Sembilan -->
      <div class="col-md-4" id="rendang-minang" data-region="negeri-sembilan">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/d/da/Rendang-padang.jpg"
            alt="Rendang Minang â€” slow-cooked beef in coconut milk and spices">
          <div class="card-body">
            <h5 class="card-title">Rendang Minang</h5>
            <p class="card-text">Slowâ€‘cooked beef in coconut milk and spices â€” rich and aromatic.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Rendang Minang"
              aria-label="Add Rendang Minang to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="lemang" data-region="negeri-sembilan">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Piece_of_Lemang.jpg/500px-Piece_of_Lemang.jpg"
            alt="Lemang â€” glutinous rice cooked in bamboo with coconut milk">
          <div class="card-body">
            <h5 class="card-title">Lemang</h5>
            <p class="card-text">Glutinous rice cooked in bamboo with coconut milk; festive favourite.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Lemang" aria-label="Add Lemang to favorites">Add
              to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="serunding" data-region="negeri-sembilan">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Serundeng_Daging.jpg/500px-Serundeng_Daging.jpg"
            alt="Serunding â€” spiced meat floss side dish/snack">
          <div class="card-body">
            <h5 class="card-title">Serunding</h5>
            <p class="card-text">Finely shredded meat cooked with spices and coconut â€” a popular side/snack.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Serunding"
              aria-label="Add Serunding to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Kelantan -->
      <div class="col-md-4" id="nasi-kerabu" data-region="kelantan">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Nasi_kerabu.jpg/500px-Nasi_kerabu.jpg"
            alt="Nasi Kerabu â€” blue rice with herbs and grilled items">
          <div class="card-body">
            <h5 class="card-title">Nasi Kerabu</h5>
            <p class="card-text">Blueâ€‘tinted herb rice with raw salad, grilled fish/chicken, and budu.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Nasi Kerabu"
              aria-label="Add Nasi Kerabu to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="akok" data-region="kelantan">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Akok_20230504_133207.jpg/500px-Akok_20230504_133207.jpg"
            alt="Akok â€” Kelantanese kuih with coconut milk and palm sugar">
          <div class="card-body">
            <h5 class="card-title">Akok</h5>
            <p class="card-text">Soft, custardy kuih with caramelised edges â€” coconut & palm sugar aroma.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Akok" aria-label="Add Akok to favorites">Add to
              favorites</button>
          </div>
        </div>
      </div>

      <!-- Terengganu -->
      <div class="col-md-4" id="keropok-lekor" data-region="terengganu">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Keropok_lekor_in_Terengganu%2C_Malaysia.jpg/500px-Keropok_lekor_in_Terengganu%2C_Malaysia.jpg"
            alt="Keropok Lekor â€” fish fritter sticks with chili sauce">
          <div class="card-body">
            <h5 class="card-title">Keropok Lekor</h5>
            <p class="card-text">Chewy fish sausage fritters, best hot with chili sauce by seaside stalls.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Keropok Lekor"
              aria-label="Add Keropok Lekor to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="satar" data-region="terengganu">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/YosriSatar.jpg/1280px-YosriSatar.jpg"
            alt="Satar â€” cone-shaped banana leaf parcels filled with spiced fish, grilled over charcoal">
          <div class="card-body">
            <h5 class="card-title">Satar</h5>
            <p class="card-text">Coneâ€‘shaped banana leaf parcels with spiced fish and coconut, grilled over charcoal.
            </p>
            <button class="btn btn-outline-primary fav-btn" data-food="Satar" aria-label="Add Satar to favorites">Add to
              favorites</button>
          </div>
        </div>
      </div>

      <!-- Perak -->
      <div class="col-md-4" id="ipoh-hor-fun" data-region="perak">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Ipoh_Chicken_Hor_Fun.jpg/1200px-Ipoh_Chicken_Hor_Fun.jpg?20141130064212"
            alt="Ipoh Hor Fun â€” silky flat rice noodles in delicate broth">
          <div class="card-body">
            <h5 class="card-title">Ipoh Hor Fun</h5>
            <p class="card-text">Silky flat rice noodles in delicate chickenâ€‘prawn broth â€” Ipohâ€™s comfort classic.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Ipoh Hor Fun"
              aria-label="Add Ipoh Hor Fun to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="salt-baked-chicken" data-region="perak">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://smartdory.com/wp-content/uploads/2018/10/Aun-Kheng-Lim-Salted-Chicken-680x350.jpg"
            alt="Salt baked chicken â€” whole chicken baked in coarse salt with Chinese herbs">
          <div class="card-body">
            <h5 class="card-title">Salt Baked Chicken</h5>
            <p class="card-text">Whole chicken marinated with Chinese herbs and baked in coarse salt â€” Ipoh signature.
            </p>
            <button class="btn btn-outline-primary fav-btn" data-food="Salt Baked Chicken"
              aria-label="Add Salt Baked Chicken to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="ipoh-white-coffee" data-region="perak">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Ipoh_White_Coffee%2C_Old_Town_Kopitiam_in_Australia.jpg/500px-Ipoh_White_Coffee%2C_Old_Town_Kopitiam_in_Australia.jpg"
            alt="Ipoh White Coffee â€” margarine-roasted beans with condensed milk">
          <div class="card-body">
            <h5 class="card-title">Ipoh White Coffee</h5>
            <p class="card-text">Smooth, aromatic coffee roasted with margarine and served with condensed milk.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Ipoh White Coffee"
              aria-label="Add Ipoh White Coffee to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!--Pahang-->
      <div class="col-md-4" id="puding-diraja" data-region="pahang">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Puding_Diraja.jpg/500px-Puding_Diraja.jpg"
            alt="Puding Diraja â€” royal dessert from Pahang with banana, raisins and creamy sauce">
          <div class="card-body">
            <h5 class="card-title">Puding Diraja</h5>
            <p class="card-text">Royal dessert with bananas, raisins, dates and creamy milk-egg sauce â€” once served to
              Pahang royalty.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Puding Diraja">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="gulai-tempoyak-ikan-patin" data-region="pahang">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/YosriBelacanTempoyakDekat.jpg/500px-YosriBelacanTempoyakDekat.jpg"
            alt="Gulai Tempoyak Ikan Patin â€” Pahang catfish curry with fermented durian paste">
          <div class="card-body">
            <h5 class="card-title">Gulai Tempoyak Ikan Patin</h5>
            <p class="card-text">Pahangâ€™s signature river catfish in fermented durian curry â€” tangy, creamy and
              aromatic.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Gulai Tempoyak Ikan Patin">Add to
              favorites</button>
          </div>
        </div>
      </div>

      <!-- Sabah -->
      <div class="col-md-4" id="hinava" data-region="sabah">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/6/6e/Hinava_Sabah.jpg"
            alt="Hinava â€” cured fish with lime, ginger, chilies and shallots (Sabah)">
          <div class="card-body">
            <h5 class="card-title">Hinava</h5>
            <p class="card-text">Fresh fish cured with lime, ginger, chilies and shallots â€” bright and zesty.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Hinava" aria-label="Add Hinava to favorites">Add
              to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="mee-goreng-tuaran" data-region="sabah">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Mee_Goreng_Tuaran_bj.jpg/1200px-Mee_Goreng_Tuaran_bj.jpg"
            alt="Mee Goreng Tuaran â€” stir-fried handmade egg noodles from Tuaran, Sabah">
          <div class="card-body">
            <h5 class="card-title">Mee Goreng Tuaran</h5>
            <p class="card-text">Stirâ€‘fried handmade egg noodles with vegetables, char siu and egg â€” springy texture.
            </p>
            <button class="btn btn-outline-primary fav-btn" data-food="Mee Goreng Tuaran"
              aria-label="Add Mee Goreng Tuaran to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <!-- Sarawak -->
      <div class="col-md-4" id="kolo-mee" data-region="sarawak">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Sarawak_Kolo_Mee.jpg/500px-Sarawak_Kolo_Mee.jpg"
            alt="Kolo Mee â€” springy noodles with minced meat and char siu">
          <div class="card-body">
            <h5 class="card-title">Kolo Mee</h5>
            <p class="card-text">Springy noodles tossed in light savoury sauce, topped with minced meat and char siu.
            </p>
            <button class="btn btn-outline-primary fav-btn" data-food="Kolo Mee"
              aria-label="Add Kolo Mee to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="sarawak-laksa" data-region="sarawak">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Laksa_Sarawak.JPG/500px-Laksa_Sarawak.JPG"
            alt="Sarawak Laksa â€” spiced coconut broth with vermicelli and prawns">
          <div class="card-body">
            <h5 class="card-title">Sarawak Laksa</h5>
            <p class="card-text">Fragrant spiced coconut broth with vermicelli, prawns, and omelette strips.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Sarawak Laksa"
              aria-label="Add Sarawak Laksa to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

      <div class="col-md-4" id="kek-lapis-sarawak" data-region="sarawak">
        <div class="card h-100">
          <img class="card-img-top" loading="lazy" decoding="async"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Kek_Lapis_Sarawak.jpg/330px-Kek_Lapis_Sarawak.jpg"
            alt="Kek Lapis Sarawak â€” colourful layered cake with patterns">
          <div class="card-body">
            <h5 class="card-title">Kek Lapis Sarawak</h5>
            <p class="card-text">Vibrant multiâ€‘layered cake with intricate patterns; festive favourite.</p>
            <button class="btn btn-outline-primary fav-btn" data-food="Kek Lapis Sarawak"
              aria-label="Add Kek Lapis Sarawak to favorites">Add to favorites</button>
          </div>
        </div>
      </div>

    </div>
  </main>

  <footer class="py-4 bg-body-tertiary border-top mt-auto">
    <div class="container text-center small text-secondary">
      Â© 2025 Explore Street Food
      &nbsp;|&nbsp;
      <a href="about.html" class="text-decoration-none">Group 61</a>
    </div>
  </footer>


  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="main.js"></script>

  <script>
    // State filter
    (function filterByState() {
      const select = document.getElementById('stateFilter');
      const reset = document.getElementById('resetFilter');
      const cards = document.querySelectorAll('.row.g-4 > [data-region]');

      function apply() {
        const v = (select?.value || 'all').toLowerCase();
        cards.forEach(col => {
          const region = (col.getAttribute('data-region') || '').toLowerCase();
          col.classList.toggle('d-none', v !== 'all' && region !== v);
        });
      }
      select?.addEventListener('change', apply);
      reset?.addEventListener('click', () => { if (select) { select.value = 'all'; } apply(); });
      apply();
    })();

    (function addMapButtons() {
      document.querySelectorAll('.row.g-4 > [data-region] .card .card-body').forEach(body => {
        const title = body.querySelector('.card-title')?.textContent.trim() || 'Street Food';
        const region = body.closest('[data-region]')?.getAttribute('data-region') || '';

        const btn = document.createElement('button');
        btn.className = 'btn btn-sm btn-outline-secondary map-btn';
        btn.textContent = 'View on Map';
        btn.addEventListener('click', () => {
          const url = new URL('map.html', location.href);
          url.searchParams.set('food', title);
          url.searchParams.set('country', 'Malaysia');
          if (region) url.searchParams.set('state', region);
          location.href = url.toString();
        });

        const fav = body.querySelector('.fav-btn');
        if (fav) { fav.insertAdjacentElement('afterend', btn); fav.classList.add('me-2'); }
        else { body.appendChild(btn); }
      });

      // Toolbar "Map for Selected" link (for a state-wide view)
      const toolbar = document.querySelector('.row.g-2.align-items-center.mb-3');
      if (toolbar) {
        const col = document.createElement('div');
        col.className = 'col-auto';
        col.innerHTML = '<a id="openMapForState" class="btn btn-sm btn-outline-secondary" href="#">Map for Selected</a>';
        toolbar.appendChild(col);

        const select = document.getElementById('stateFilter');
        const link = col.querySelector('#openMapForState');
        const updateHref = () => {
          const v = (select?.value || 'all');
          if (v === 'all') {
            link.href = 'map.html?food=Street%20Food&country=Malaysia';
          } else {
            const url = new URL('map.html', location.href);
            url.searchParams.set('food', `${v} Street Food`);
            url.searchParams.set('country', 'Malaysia');
            url.searchParams.set('state', v);
            link.href = url.toString();
          }
        };
        select?.addEventListener('change', updateHref);
        updateHref();
      }
    })();
  </script>
</body>

</html>