<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Search Street Food</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css">
    <style>
        .card-img-top {
            object-fit: cover;
            height: 140px
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm">
        <div class="container"><a class="navbar-brand fw-bold" href="index.html">Explore Street Food</a></div>
    </nav>
    <main class="container py-5">
        <h1 class="mb-4">Search</h1>
        <div class="row g-3 mb-3">
            <div class="col-md-6"><input id="q" class="form-control" placeholder="Search by name, country, or tag..." />
            </div>
            <div class="col-md-3">
                <select id="region" class="form-select">
                    <option value="">All Regions</option>
                    <option>Malaysia</option>
                    <option>Japan</option>
                    <option>Mexico</option>
                    <option>Vietnam</option>
                </select>
            </div>
            <div class="col-md-3 d-grid"><button id="load" class="btn btn-outline-primary">Load Sample API Data</button>
            </div>
        </div>
        <div id="grid" class="row g-4"></div>
    </main>

    <footer class="border-top py-4 text-center text-muted"><small>© <span id="y"></span> Explore Street Food</small>
    </footer>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const data = [
            { name: 'Satay', country: 'Malaysia', tags: ['grilled', 'peanut'], img: 'https://images.unsplash.com/photo-1574482620826-2371e4a4f63a?q=80&w=1200' },
            { name: 'Takoyaki', country: 'Japan', tags: ['seafood', 'snack'], img: 'https://images.unsplash.com/photo-1574879158742-849d27f2a3ad?q=80&w=1200' },
            { name: 'Tacos', country: 'Mexico', tags: ['corn', 'spicy'], img: 'https://images.unsplash.com/photo-1551504734-5ee1c4a1479b?q=80&w=1200' },
            { name: 'Bánh mì', country: 'Vietnam', tags: ['sandwich'], img: 'https://images.unsplash.com/photo-1590947132387-155cc02f3212?q=80&w=1200' }
        ];
        const grid = document.getElementById('grid');

        function render(list) {
            grid.innerHTML = '';
            list.forEach(x => {
                grid.insertAdjacentHTML('beforeend', `
          <div class="col-sm-6 col-md-3">
            <div class="card h-100">
              <img class="card-img-top" src="${x.img}" alt="${x.name}">
              <div class="card-body">
                <h6 class="card-title mb-1">${x.name}</h6>
                <small class="text-muted">${x.country}</small>
                <p class="mt-2 mb-0"><span class="badge text-bg-light">${x.tags.join('</span> <span class="badge text-bg-light">')}</span></p>
              </div>
            </div>
          </div>`);
            });
        }
        function filter() {
            const q = document.getElementById('q').value.toLowerCase();
            const reg = document.getElementById('region').value;
            const list = data.filter(x =>
                (!reg || x.country === reg) &&
                (x.name.toLowerCase().includes(q) || x.country.toLowerCase().includes(q) || x.tags.join(' ').toLowerCase().includes(q))
            );
            render(list);
        }
        document.getElementById('q').oninput = filter;
        document.getElementById('region').onchange = filter;
        render(data);

        // Optional RESTful API demo: loads placeholder JSON and merges
        document.getElementById('load').onclick = async () => {
            const res = await fetch('https://dummyjson.com/recipes?limit=4');
            const json = await res.json();
            const extra = json.recipes.map(r => ({ name: r.name, country: 'Global', tags: r.tags || ['recipe'], img: r.image }));
            data.push(...extra); filter();
            document.getElementById('load').disabled = true; document.getElementById('load').textContent = 'Loaded';
        }
    </script>
    <script src="main.js"></script>
</body>

</html>